<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<<<<<<< Updated upstream
<!-- 2021-07-21 Wed 09:35 -->
=======
<!-- 2021-07-25 Sun 18:48 -->
>>>>>>> Stashed changes
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AWS Rails settings</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Hoyoul Park" />
<meta name="description" content="Org-HTML export made simple."
 />
<meta name="keywords" content="org-mode, export, html, theme, style, css, js, bigblow" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">AWS Rails settings</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<<<<<<< Updated upstream
<li><a href="#org7d41d69">1. AWS EC2 Server Settings</a>
<ul>
<li><a href="#orgd01a83a">1.1. EC2 생성</a></li>
<li><a href="#orgbd43cdc">1.2. SSH 접속 settings</a></li>
<li><a href="#org51ac5a1">1.3. root password설정과 root로 ssh 연결</a></li>
<li><a href="#org6b52568">1.4. deploy를 위한 계정 설정</a></li>
<li><a href="#org2040841">1.5. ruby 설정 (deploy계정으로)</a></li>
<li><a href="#org5b282df">1.6. bundler설정</a></li>
<li><a href="#org6891142">1.7. Nginx &amp; Passenger 설정</a></li>
<li><a href="#org83c49c4">1.8. Mariadb Database 설치하기</a></li>
<li><a href="#org77c757d">1.9. Capistrano설정</a>
<ul>
<li><a href="#orgdac0d46">capistrano의 일반적 처리과정.</a></li>
<li><a href="#org2811b0d">Gemfile 설정</a></li>
<li><a href="#orgbc7458d">Capfile 설정</a></li>
<li><a href="#orgd475419">config/deploy.rb 설정</a></li>
</ul>
</li>
<li><a href="#orgd893e1d">1.10. Capistrano Error</a>
<ul>
<li><a href="#org34a67fb">Thread error</a></li>
<li><a href="#org1a44809">git:check error-permission denied error</a></li>
<li><a href="#org2ce6b5c">git:create<sub>release</sub> master error</a></li>
<li><a href="#orgc672dc3">bundle:install</a></li>
</ul>
</li>
<li><a href="#org0d831ff">1.11. bundler:install, Failed to build gem native extension</a></li>
<li><a href="#org409037e">1.12. deploy:migrating error</a></li>
<li><a href="#orge7d8c7c">1.13. db관련 에러가 계속해서 나올경우</a></li>
<li><a href="#orga2cc0e8">1.14. cap production deploy 하자마자 sshkit error</a></li>
<li><a href="#org5581119">1.15. git permission error</a></li>
<li><a href="#orgfbd555b">1.16. phusion messager is not running</a>
<ul>
<li><a href="#org031f646">routes.rb</a></li>
<li><a href="#org21d0e53">rails g controller</a></li>
<li><a href="#org69d3aef">index.html.erb</a></li>
</ul>
</li>
<li><a href="#orgff30832">1.17. nginx 설정과  log위치 [ubuntu]</a></li>
<li><a href="#orgafb5b40">1.18. passenger log file</a></li>
</ul>
</li>
<li><a href="#org3dc0988">2. rails 개발 참조 사이트</a></li>
</ul>
</div>
</div>
<div id="outline-container-org7d41d69" class="outline-2">
<h2 id="org7d41d69"><span class="section-number-2">1</span> AWS EC2 Server Settings</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgd01a83a" class="outline-3">
<h3 id="orgd01a83a"><span class="section-number-3">1.1</span> EC2 생성</h3>
=======
<li><a href="#org985c499">1. AWS EC2와 Web Server Settings(ROR)</a>
<ul>
<li><a href="#org5d41c00">1.1. EC2 생성</a></li>
<li><a href="#org491a8df">1.2. SSH 접속 settings</a></li>
<li><a href="#orged250ab">1.3. root password설정과 root로 ssh 연결</a></li>
<li><a href="#orgd3392ed">1.4. deploy를 위한 계정 설정</a></li>
<li><a href="#org56abcef">1.5. ruby 설정 (deploy계정으로)</a></li>
<li><a href="#org8b1be73">1.6. bundler설정</a></li>
<li><a href="#org5485e46">1.7. Nginx &amp; Passenger 설정</a></li>
<li><a href="#org0f497b0">1.8. Mariadb Database 설치하기</a></li>
<li><a href="#org445fd6c">1.9. Capistrano설정</a>
<ul>
<li><a href="#org7c8c613">capistrano의 일반적 처리과정.</a></li>
<li><a href="#orga3b7a2b">Gemfile 설정</a></li>
<li><a href="#org69f3d62">Capfile 설정</a></li>
<li><a href="#orge153c09">config/deploy.rb 설정</a></li>
</ul>
</li>
<li><a href="#org322ed97">1.10. Capistrano Error</a>
<ul>
<li><a href="#orgb89b893">Thread error</a></li>
<li><a href="#orga916319">git:check error-permission denied error</a></li>
<li><a href="#org5179ef7">git:create<sub>release</sub> master error</a></li>
<li><a href="#org77af25c">bundle:install</a></li>
</ul>
</li>
<li><a href="#org4bc7938">1.11. bundler:install, Failed to build gem native extension</a></li>
<li><a href="#orgbaf0600">1.12. deploy:migrating error</a></li>
<li><a href="#org441634e">1.13. db관련 에러가 계속해서 나올경우</a></li>
<li><a href="#org2cfd0dc">1.14. cap production deploy 하자마자 sshkit error</a></li>
<li><a href="#orga21b4cd">1.15. git permission error</a></li>
<li><a href="#org0a1cb62">1.16. phusion messager is not running</a>
<ul>
<li><a href="#orgb3c1211">routes.rb</a></li>
<li><a href="#org96b5daa">rails g controller</a></li>
<li><a href="#orgbdb37bb">index.html.erb</a></li>
</ul>
</li>
<li><a href="#org92cea68">1.17. nginx 설정과  log위치 [ubuntu]</a></li>
<li><a href="#orgdc6be88">1.18. passenger log file</a></li>
</ul>
</li>
<li><a href="#orgc2b18ab">2. AWS 계정 설정(root and IAM)</a>
<ul>
<li><a href="#org17ab347">2.1. root계정 처리</a></li>
<li><a href="#orgc52775e">2.2. IAM 계정 처리(group and user)</a></li>
</ul>
</li>
<li><a href="#org80263ac">3. AWS 고정 IP 설정</a></li>
<li><a href="#org627c7fe">4. AWS DNS 주소 할당과정</a></li>
<li><a href="#org00ab1fd">5. AWS domain주소와 EC2연동</a></li>
<li><a href="#orgc3c33cf">6. rails 개발 참조 사이트</a></li>
</ul>
</div>
</div>
<div id="outline-container-org985c499" class="outline-2">
<h2 id="org985c499"><span class="section-number-2">1</span> AWS EC2와 Web Server Settings(ROR)</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org5d41c00" class="outline-3">
<h3 id="org5d41c00"><span class="section-number-3">1.1</span> EC2 생성</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>login한 후에 aws ec2를 만들자.
<ol class="org-ol">
<li>Launch instance 실행</li>
</ol></li>
</ul>

<<<<<<< Updated upstream
<div id="org4d29ad6" class="figure">
=======
<div id="org1b8be23" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/launchinstance.png" alt="launchinstance.png" height="150px" width="1000px" />
</p>
<p><span class="figure-number">Figure 1: </span>launch instance</p>
</div>

<ol class="org-ol">
<li>ubuntu 20.04를 선택</li>
</ol>

<<<<<<< Updated upstream
<div id="org56b1e3a" class="figure">
=======
<div id="org4a141f7" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/ubuntu.png" alt="ubuntu.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 2: </span>ubuntu 20.04 image 선택</p>
</div>

<p>
3)instance를 설정한다.
</p>

<<<<<<< Updated upstream
<div id="org559797f" class="figure">
=======
<div id="org8d397d6" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/instance.png" alt="instance.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 3: </span>instance 설정</p>
</div>

<ol class="org-ol">
<li>storage(EBS)설정 (돈이 들어간다.)</li>
</ol>

<<<<<<< Updated upstream
<div id="orga0ec04f" class="figure">
=======
<div id="org73a3048" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/default.png" alt="default.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 4: </span>ebs  설정한다.</p>
</div>

<ol class="org-ol">
<li>보안관리자(Security Group)</li>
</ol>

<<<<<<< Updated upstream
<div id="org8fb0f64" class="figure">
=======
<div id="org30c2f91" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/network.png" alt="network.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 5: </span>http추가</p>
</div>

<ol class="org-ol">
<li>key 생성</li>
</ol>

<<<<<<< Updated upstream
<div id="org15e8ace" class="figure">
=======
<div id="org9e75671" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/key.png" alt="key.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 6: </span>key</p>
</div>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-orgbd43cdc" class="outline-3">
<h3 id="orgbd43cdc"><span class="section-number-3">1.2</span> SSH 접속 settings</h3>
=======
<div id="outline-container-org491a8df" class="outline-3">
<h3 id="org491a8df"><span class="section-number-3">1.2</span> SSH 접속 settings</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-2">
<ol class="org-ol">
<li>받은 pem 키를 chmod 0400으로 설정한 후 ~/.ssh/ 에 넣는다.</li>
<li><p>
ec2의 주소를 check한 후 ssh로 접속해보자.
</p></li>
</ol>

<<<<<<< Updated upstream
<div id="orge0bb17a" class="figure">
=======
<div id="org4e150b8" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/ssh1.png" alt="ssh1.png" width="1000px" />
</p>
</div>

<blockquote>
<p>
ssh -i ~/.ssh/ec2<sub>keys.pem</sub> ubuntu@주소
</p>
</blockquote>
<p>
aws에서 설정할 때 얻은 ssh pem 키와 주소를 사용해서 ssh접속을 한다. 주소는 dns주소 혹은 ip주소를 사용해도 된다. 아래에 보면 ubuntu계정으로 접속한 것을 볼 수 있다.
</p>

<<<<<<< Updated upstream
<div id="orgf9d7893" class="figure">
=======
<div id="orgabc1e14" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/connection.png" alt="connection.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 8: </span>connection</p>
</div>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org51ac5a1" class="outline-3">
<h3 id="org51ac5a1"><span class="section-number-3">1.3</span> root password설정과 root로 ssh 연결</h3>
<div class="outline-text-3" id="text-1-3">

<div id="orgff0d25f" class="figure">
=======
<div id="outline-container-orged250ab" class="outline-3">
<h3 id="orged250ab"><span class="section-number-3">1.3</span> root password설정과 root로 ssh 연결</h3>
<div class="outline-text-3" id="text-1-3">

<div id="org1a592eb" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/root_pw.png" alt="root_pw.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 9: </span>root password설정</p>
</div>

<ol class="org-ol">
<li>ssh 접속을 root로 할 수 있게 설정
<ul class="org-ul">
<li>ubuntu로 접속한다.</li>
<li><p>
sudo vi /etc/ssh/sshd<sub>config에서</sub>
</p>
<blockquote>
<p>
'#PermitRootLogin prohibit-password를
PermitRootLogin prohibit-password yes로 바꾼다.
</p>
</blockquote></li>
</ul></li>
<li>su root를 사용해서 root로 switch한다.</li>
<li>cd로 home/.ssh으로 이동</li>
<li>mv authorized<sub>key</sub> authorized<sub>key</sub><sub>bak</sub></li>
<li>cp <i>home/ubuntu</i>.ssh/authorized<sub>keys</sub> .
현재 ubuntu계정의 ssh키만 aws ec2에 접속할 수 있는 이유는 authorized<sub>key때문이다</sub>. 이 key를 root에 복사해서 root로
접근할 수 있게 하는 것이다.</li>
<li>service sshd restart</li>
</ol>

<<<<<<< Updated upstream
<div id="org944859c" class="figure">
=======
<div id="org0c15846" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/ssh처리.png" alt="ssh처리.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 10: </span>ssh 처리</p>
</div>
<ol class="org-ol">
<li>root로 접근이 되는 지 확인해 본다.</li>
</ol>

<<<<<<< Updated upstream
<div id="orga394e93" class="figure">
=======
<div id="org358b2c0" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/rootssh.png" alt="rootssh.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 11: </span>root ssh</p>
</div>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org6b52568" class="outline-3">
<h3 id="org6b52568"><span class="section-number-3">1.4</span> deploy를 위한 계정 설정</h3>
=======
<div id="outline-container-orgd3392ed" class="outline-3">
<h3 id="orgd3392ed"><span class="section-number-3">1.4</span> deploy를 위한 계정 설정</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-4">
<ol class="org-ol">
<li>ssh root로 접근</li>
<li>deploy계정 생성</li>
</ol>
<p width="1000px">
<img src="./img/deployaccount.png" alt="deployaccount.png" width="1000px" />
나머지 설정도 해준다.
</p>
<blockquote>
<p>
 
</p>
</blockquote>

<ol class="org-ol">
<li>deploy계정에도 ubuntu, root처럼 ssh 접근이 가능하게 설정한다.
<ul class="org-ul">
<li>sudo mkdir <i>home/deploy</i>.ssh</li>
<li>sudo cp <i>home/ubuntu</i>.ssh/authorized<sub>keys</sub> <i>home/deploy</i>.ssh</li>
<li>sudo chown -R deploy:deploy <i>home/deploy</i>.ssh</li>
<li>sudo service sshd restart</li>
<li>sudo usermod -aG sudo deploy</li>
</ul></li>

<li>test를 해본다.</li>
</ol>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org2040841" class="outline-3">
<h3 id="org2040841"><span class="section-number-3">1.5</span> ruby 설정 (deploy계정으로)</h3>
<div class="outline-text-3" id="text-1-5">

<div id="orgf3b2694" class="figure">
=======
<div id="outline-container-org56abcef" class="outline-3">
<h3 id="org56abcef"><span class="section-number-3">1.5</span> ruby 설정 (deploy계정으로)</h3>
<div class="outline-text-3" id="text-1-5">

<div id="org999b2b6" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/deploy2.png" alt="deploy2.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 12: </span>deploy2</p>
</div>


<<<<<<< Updated upstream
<div id="orgcc3b314" class="figure">
=======
<div id="org014d79c" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/deploy3.png" alt="deploy3.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 13: </span>deploy3</p>
</div>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org5b282df" class="outline-3">
<h3 id="org5b282df"><span class="section-number-3">1.6</span> bundler설정</h3>
<div class="outline-text-3" id="text-1-6">

<div id="orgaffdb17" class="figure">
=======
<div id="outline-container-org8b1be73" class="outline-3">
<h3 id="org8b1be73"><span class="section-number-3">1.6</span> bundler설정</h3>
<div class="outline-text-3" id="text-1-6">

<div id="orgec57c3f" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/bundler.png" alt="bundler.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 14: </span>bundler</p>
</div>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org6891142" class="outline-3">
<h3 id="org6891142"><span class="section-number-3">1.7</span> Nginx &amp; Passenger 설정</h3>
<div class="outline-text-3" id="text-1-7">

<div id="orgb4b1a4f" class="figure">
=======
<div id="outline-container-org5485e46" class="outline-3">
<h3 id="org5485e46"><span class="section-number-3">1.7</span> Nginx &amp; Passenger 설정</h3>
<div class="outline-text-3" id="text-1-7">

<div id="org3429ed8" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/nginx.png" alt="nginx.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 15: </span>nginx&amp;passenger</p>
</div>

<ol class="org-ol">
<li><p>
passenger config 파일 수정
</p>
<blockquote>
<p>
sudo vi /etc/nginx/conf.d/mod-http-passenger.conf
</p>
</blockquote>
<p>
아래와 같이 수정한다.
</p></li>
</ol>

<<<<<<< Updated upstream
<div id="orgce72c7e" class="figure">
=======
<div id="org9a88f8c" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/pruby.png" alt="pruby.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 16: </span>passenger config</p>
</div>

<ol class="org-ol">
<li><p>
nginx를 다시 시작한다.
</p>
<blockquote>
<p>
sudo service nginx start
</p>
</blockquote></li>
<li>nginx 접속 해 본다.</li>
</ol>

<<<<<<< Updated upstream
<div id="org0a2e335" class="figure">
=======
<div id="orga559eef" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/nginx2.png" alt="nginx2.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 17: </span>nginx</p>
</div>

<ol class="org-ol">
<li>nginx에 우리의 app을 연결한다.</li>
</ol>

<<<<<<< Updated upstream
<div id="org64cb491" class="figure">
=======
<div id="orgb5380be" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/nginx3.png" alt="nginx3.png" width="1000px" />
</p>
<p><span class="figure-number">Figure 18: </span>nginx associates with my app</p>
</div>

<p>
기존에 연결된 default를 제거하고, 대신 myapp을 설정한다.
그리고 다시 nginx를 다음과 같이 reload한다.
</p>
<blockquote>
<p>
sudo service nginx reload
</p>
</blockquote>

<ul class="org-ul">
<li><p>
<b>Problem</b>: 예상치 못한 에러 발생
</p></li>
</ul>
<p width="1000px">
<img src="./img/nginx4.png" alt="nginx4.png" width="1000px" />
journalctl -xe를 실행해서 에러의 원인이 뭔지 알고 싶었다. 다음과 같은 메시지가 있었다.
</p>
<p width="1000px">
<img src="./img/pam.png" alt="pam.png" width="1000px" />
더 정확한 확인을 위해서 nginx의 log를 확인해 보자
</p>
<p width="1000px">
<img src="./img/errorlog.png" alt="errorlog.png" width="1000px" />
위에 보면 gzip<sub>static</sub><sub>on에</sub> 문제가 있어 보인다.
</p>

<ul class="org-ul">
<li><b>solution</b>: gzip<sub>static</sub> on으로 고쳤다.</li>
</ul>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-org83c49c4" class="outline-3">
<h3 id="org83c49c4"><span class="section-number-3">1.8</span> Mariadb Database 설치하기</h3>
=======
<div id="outline-container-org0f497b0" class="outline-3">
<h3 id="org0f497b0"><span class="section-number-3">1.8</span> Mariadb Database 설치하기</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-8">
<ol class="org-ol">
<li><p>
우선 system을 업그레이드한다.
</p>
<blockquote>
<p>
sudo apt update &amp;&amp; sudo apt-get -y upgrade
</p>
</blockquote></li>

<li>sudo apt-get install -y mariadb-server
mariadb server를 설치한다.</li>
<li>sudo apt-get install -y mariadb-client
mariadb client를 설치한다.</li>
<li>sudo apt-get install -y libmariadbclient-dev</li>
<li>sudo mysql<sub>secure</sub><sub>installation</sub>
root pw를 설정한다.
<ol class="org-ol">
<li>password를 묻는다. 이것은 system password, sudo에 대한..그래서 1234를 입력</li>
<li>validation production : y</li>
<li>root pw 입력:root1234, 참고로 deploy계정은 pw:user1234</li>
<li>anonmous user 삭제:y</li>
<li>remote :n</li>
<li>testdb delete :y</li>
<li>privileges table reload: y</li>
</ol></li>
<li>sudo mysql -u root -p
mariadb 설치후에 바로 접속을 시도 해도 접속이 된다.</li>
</ol>

<<<<<<< Updated upstream
<div id="org6dcd018" class="figure">
=======
<div id="org7b5de75" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/connection.png" alt="connection.png" width="400px" />
</p>
<p><span class="figure-number">Figure 19: </span>mysql connection</p>
</div>

<ol class="org-ol">
<li>mariadb에서 database와 user를 만든다.</li>
</ol>

<<<<<<< Updated upstream
<div id="org5e9e6d6" class="figure">
=======
<div id="orgd43f957" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/db_create.png" alt="db_create.png" width="400px" />
</p>
<p><span class="figure-number">Figure 20: </span>db &amp; user</p>
</div>

<p>
rails app도 myapp으로 했지만, db에서 database도 myapp으로 통일한다.
aws에서 만든 계정인 deploy를 db에서도 접근할 수 있게 db에도 만든다.
</p>
</div>
</div>


<<<<<<< Updated upstream
<div id="outline-container-org77c757d" class="outline-3">
<h3 id="org77c757d"><span class="section-number-3">1.9</span> Capistrano설정</h3>
<div class="outline-text-3" id="text-1-9">
</div>
<div id="outline-container-orgdac0d46" class="outline-4">
<h4 id="orgdac0d46">capistrano의 일반적 처리과정.</h4>
<div class="outline-text-4" id="text-orgdac0d46">

<div id="orga75f259" class="figure">
=======
<div id="outline-container-org445fd6c" class="outline-3">
<h3 id="org445fd6c"><span class="section-number-3">1.9</span> Capistrano설정</h3>
<div class="outline-text-3" id="text-1-9">
</div>
<div id="outline-container-org7c8c613" class="outline-4">
<h4 id="org7c8c613">capistrano의 일반적 처리과정.</h4>
<div class="outline-text-4" id="text-org7c8c613">

<div id="orgd4c3419" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/capistranod.png" alt="capistranod.png" width="800px" />
</p>
<p><span class="figure-number">Figure 21: </span>capistrano</p>
</div>
<ol class="org-ol">
<li>aws(배포서버)에 접속할 pem이 있는지 확인. pem이 있다면 접속한다.</li>
<li>git을 접속할수 있는지 확인(ssh permission), ssh key가 있다면 접속</li>
<li>git source를 배포 서버에 복사 (이 과정이 git:check, git:install&#x2026;.)</li>
<li>Gem을 bundler를 이용해서 설치(이 과정이 bundler:check, bundler:install&#x2026;)</li>
<li>nginx를  restart</li>
</ol>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org2811b0d" class="outline-4">
<h4 id="org2811b0d">Gemfile 설정</h4>
<div class="outline-text-4" id="text-org2811b0d">
=======
<div id="outline-container-orga3b7a2b" class="outline-4">
<h4 id="orga3b7a2b">Gemfile 설정</h4>
<div class="outline-text-4" id="text-orga3b7a2b">
>>>>>>> Stashed changes
<p>
Local로 다시 들어간다. myapp으로 간다. Gemfiles에 다음을 추가한다. 추가할 때 group :development에 할당하자.
이 과정은 capistrano package를 설치하겠다는 것이다.
</p>
<blockquote>
<p>
gem 'capistrano', '~&gt; 3.11'
gem 'capistrano-rails', '~&gt; 1.4'
gem 'capistrano-passenger', '~&gt; 0.2.0'
gem 'capistrano-rbenv', '~&gt; 2.1', '&gt;= 2.1.4'
</p>
</blockquote>
<p>
이렇게 작성 하고  다음을 실행한다.
</p>
<blockquote>
<p>
bundle
cap install STAGES=production
</p>
</blockquote>
<p>
bundle을 실행하면, gemfile에 기술된 gem들이 install된다. capistrano도 installed되어서 cap이란 명령어를 실행할 수 있다.
cap install을 실행하면, deploy를 위한 설정 파일(.rb)들을 만들어 낸다. 
만일 cap명령어를 실행하나 수행되지 않을 때는 rbenv rehash를 하고 다시 실행한다.
</p>
<p width="400px">
 <img src="./img/rehash.png" alt="rehash.png" width="400px" />
cap으로 만들어지는 파일은 capfile, deploy.rb, staging.rb,production.rb같은 deploy같은 설정파일들이다.
</p>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-orgbc7458d" class="outline-4">
<h4 id="orgbc7458d">Capfile 설정</h4>
<div class="outline-text-4" id="text-orgbc7458d">
=======
<div id="outline-container-org69f3d62" class="outline-4">
<h4 id="org69f3d62">Capfile 설정</h4>
<div class="outline-text-4" id="text-org69f3d62">
>>>>>>> Stashed changes
<p>
capfile은 배포설정 파일을 load할 뿐이다. 실제 설정은 load되는 파일에서 한다.
</p>
<blockquote>
<p>
require 'capistrano/rails'
require 'capistrano/passenger'
require 'capistrano/rbenv'
</p>

<p>
set :rbenv<sub>type</sub>, :user
set :rbenv<sub>ruby</sub>, '3.0.1'
</p>
</blockquote>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-orgd475419" class="outline-4">
<h4 id="orgd475419">config/deploy.rb 설정</h4>
<div class="outline-text-4" id="text-orgd475419">

<div id="orgdb17c0c" class="figure">
=======
<div id="outline-container-orge153c09" class="outline-4">
<h4 id="orge153c09">config/deploy.rb 설정</h4>
<div class="outline-text-4" id="text-orge153c09">

<div id="org62b6c09" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/deploysettings.png" alt="deploysettings.png" width="800px" />
</p>
<p><span class="figure-number">Figure 22: </span>deploy settings</p>
</div>
</div>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-orgd893e1d" class="outline-3">
<h3 id="orgd893e1d"><span class="section-number-3">1.10</span> Capistrano Error</h3>
<div class="outline-text-3" id="text-1-10">
</div>
<div id="outline-container-org34a67fb" class="outline-4">
<h4 id="org34a67fb">Thread error</h4>
<div class="outline-text-4" id="text-org34a67fb">
=======
<div id="outline-container-org322ed97" class="outline-3">
<h3 id="org322ed97"><span class="section-number-3">1.10</span> Capistrano Error</h3>
<div class="outline-text-3" id="text-1-10">
</div>
<div id="outline-container-orgb89b893" class="outline-4">
<h4 id="orgb89b893">Thread error</h4>
<div class="outline-text-4" id="text-orgb89b893">
>>>>>>> Stashed changes
<p width="800px">
<img src="./img/cap1.png" alt="cap1.png" width="800px" />
=&gt; cap은 aws에 접근할 수 있는 pem키가 없다면, cap이 진행되지 않고 바로 exception이 난다.
ssh-add 를 사용해서 key를 등록한다. ssh-add ~/.ssh/company-ec2-keys.pem을 수행한다.
</p>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-org1a44809" class="outline-4">
<h4 id="org1a44809">git:check error-permission denied error</h4>
<div class="outline-text-4" id="text-org1a44809">
=======
<div id="outline-container-orga916319" class="outline-4">
<h4 id="orga916319">git:check error-permission denied error</h4>
<div class="outline-text-4" id="text-orga916319">
>>>>>>> Stashed changes
<p width="800px">
<img src="./img/cap2.png" alt="cap2.png" width="800px" />
   =&gt; ssh-add ~/.ssh/id-rsa 를 해보면 될 수 있다.
</p>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-org2ce6b5c" class="outline-4">
<h4 id="org2ce6b5c">git:create<sub>release</sub> master error</h4>
<div class="outline-text-4" id="text-org2ce6b5c">
=======
<div id="outline-container-org5179ef7" class="outline-4">
<h4 id="org5179ef7">git:create<sub>release</sub> master error</h4>
<div class="outline-text-4" id="text-org5179ef7">
>>>>>>> Stashed changes
<p>
=&gt; set branch main in deploy.rb
</p>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-orgc672dc3" class="outline-4">
<h4 id="orgc672dc3">bundle:install</h4>
<div class="outline-text-4" id="text-orgc672dc3">
=======
<div id="outline-container-org77af25c" class="outline-4">
<h4 id="org77af25c">bundle:install</h4>
<div class="outline-text-4" id="text-org77af25c">
>>>>>>> Stashed changes
<p>
=&gt; [arm64-darwin-20] but your local platform is x86<sub>64</sub>-linux
</p>
<p width="800px">
   <img src="./img/deploy_local.png" alt="deploy_local.png" width="800px" />
이것의 원인은 capistrano처리중에 github에서 rails app source를 가지고 와서 배포서버의 release폴더에 넣은 후에 bundler를 실행할 때 발생되는 에러같다. bundler가 Gemfile.lock을 실행하는 데 Platform이 local에서는 arm64-darwin-20은 정해져 있으나, x86-64-linux가 기술되어 있지 않다는 것이다. local에서는 bundle lock &#x2013;add-platform x86<sub>64</sub>-linux를 실행해서 변경할 수 있다고 하는데, Gemfile.lock에서 x86<sub>64</sub>-linux가 추가된 것을 확인할 수 있다. 그런데 실제 배포server의 release폴더에 있는 Gemfile.lock에는 반영되지 않은 것을 볼 수 있다. 이것의 원인을 찾고자, 배포 서버에 접속해서 log를 살펴보았다.
</p>
<blockquote>
<p>
less /home/deploy/myapp/current/log/production.log
</p>
</blockquote>
<p>
별다른 내용은 없었다. 그래서 release폴더에서 bundle을 실행했고, bundle lock &#x2013;add-platform x86<sub>64</sub>-linux를 실행했다. 그랬더니 다음과 같은 에러가 발생했다.
</p>

<<<<<<< Updated upstream
<div id="org12ea664" class="figure">
=======
<div id="org3da8363" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/deploy_server.png" alt="deploy_server.png" width="800px" />
</p>
<p><span class="figure-number">Figure 23: </span>deploy 배포서버</p>
</div>

<p>
이 에러는 nokogiri를 설치할때 발생되는 에러같다. gorails에서 처음에 nokogiri를 설정할 때 처리해야 할 것들이 적힌곳이 있다. 그것과 관련이 있는지는 모르겠다. Gemfile과 Gemfile.lock은 구조가 많이 다르다. Gemfile에는 몇개의 package만 적혀 있고, Gemfile.lock에는 Gemfile에서 명시했던 package를 구성하는 세부 package들이 버전별로 나열되어 있는거 같다. nokogiri란 package는 Gemfile에는 기술 되어 있지 않으나, Gemfile.lock에는 기술되어 있는거 같다.
</p>

<p>
=&gt; 해결책
우선 cap production deploy할 때, 배포 서버에서 실행하는것은 무조건 github의 내용이다. 만일 local에서 무언가를 고치거나, 수정했다면, github에 commit한 후에 cap production deploy를 해야할 듯하다.
</p>
</div>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org0d831ff" class="outline-3">
<h3 id="org0d831ff"><span class="section-number-3">1.11</span> bundler:install, Failed to build gem native extension</h3>
=======
<div id="outline-container-org4bc7938" class="outline-3">
<h3 id="org4bc7938"><span class="section-number-3">1.11</span> bundler:install, Failed to build gem native extension</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-11">
<p width="800px">
<img src="./img/bundle_error.png" alt="bundle_error.png" width="800px" />
이 문제에 대한 처리 과정은 다음과 같다.
</p>
<p width="800px">
<img src="./img/extsolution1.png" alt="extsolution1.png" width="800px" />\
</p>

<p>
우선 위에 적힌대로 해보자. 그런데, 근본적인
문제는 mysql2 설치 문제다. 배포 서버에 들어가서 mysql2를 설치해 보자.
동일한 에러가 발생한다.
</p>
<p width="800px">
<img src="./img/mysql2error.png" alt="mysql2error.png" width="800px" />
=&gt; 해결 :  sudo apt-get install libmysqlclient-dev를 설치하니 무사히 설치되었다.
</p>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org409037e" class="outline-3">
<h3 id="org409037e"><span class="section-number-3">1.12</span> deploy:migrating error</h3>
=======
<div id="outline-container-orgbaf0600" class="outline-3">
<h3 id="orgbaf0600"><span class="section-number-3">1.12</span> deploy:migrating error</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-12">
<p width="800px">
   <img src="./img/mysqlhosterror.png" alt="mysqlhosterror.png" width="800px" />
우선 mysql관련 설정환경을 배포 서버의 .rbenv-vars파일에 기술했었는데, 그게 문제일 수도 있다는 생각이 들었다. capistrano가 db에 접속을 해야 하는데, 접속은 URL로 하고, URL정보는 .rbenv-vars파일에 기술했기 때문이다. 그래서 다음과 같이 .rbenv-vars파일을 변경해 보았다.
</p>
<blockquote>
<p>
vi <i>home/deploy/myapp</i>.rbenv-vars
DATABASE<sub>URL</sub>=mysql2://deploy@localhost:/myapp
</p>
</blockquote>
<p>
다른 에러가 발생했다.
</p>


<<<<<<< Updated upstream
<div id="orgb9af26e" class="figure">
=======
<div id="org72585a0" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/mysqlsocketerror.png" alt="mysqlsocketerror.png" width="800px" />
</p>
<p><span class="figure-number">Figure 24: </span>mysqlsocketerror</p>
</div>

<p>
배포 서버에서 mysql이 제대로 설치 되지 않은거 같다. 그래서 gorails에서 나온대로 다시 mysql-server, myssql-client, libmysqlclient-dev를 설치해본다. mysql-server 설치에 문제가 있음을 알 수 있었다. 여튼 설치를 끝내고,  sudo mysql<sub>secure</sub><sub>installation를</sub> 실행하면 다음과 같은 에러가 있음을 알 수 있다.
</p>


<<<<<<< Updated upstream
<div id="orgfe3b83f" class="figure">
=======
<div id="org5e9ae9c" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/secure_connection.png" alt="secure_connection.png" width="800px" />
</p>
<p><span class="figure-number">Figure 25: </span>secure<sub>connection</sub></p>
</div>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-orge7d8c7c" class="outline-3">
<h3 id="orge7d8c7c"><span class="section-number-3">1.13</span> db관련 에러가 계속해서 나올경우</h3>
=======
<div id="outline-container-org441634e" class="outline-3">
<h3 id="org441634e"><span class="section-number-3">1.13</span> db관련 에러가 계속해서 나올경우</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-13">
<p>
mysql과 mariadb를 모두 삭제한다.
</p>
<blockquote>
<p>
 apt-get remove &#x2013;purge mysql*
apt-get remove &#x2013;purge mysql
apt-get remove &#x2013;purge mariadb
apt-get remove &#x2013;purge mariadb*
apt-get &#x2013;purge remove mariadb-server
apt-get &#x2013;purge remove python-software-properties
</p>
</blockquote>
<p>
한번에 삭제가 안되면 한 두번 실행한다.
</p>

<p>
그리고 다시 mariadb를 설치해본다. 설치과정은 다음과 같다.
</p>
<blockquote>
<p>
sudo apt-get install -y mariadb-server mariadb server를 설치한다.
sudo apt-get install -y mariadb-client mariadb client를 설치한다.
sudo apt-get install -y libmariadbclient-dev
</p>
</blockquote>
<p>
그리고 cap production deploy를 하면 또 다시 다른 에러가 나온다.
</p>

<<<<<<< Updated upstream
<div id="orge9a55f4" class="figure">
=======
<div id="orge45f417" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/socketerror2.png" alt="socketerror2.png" width="800px" />
</p>
<p><span class="figure-number">Figure 26: </span>socket error</p>
</div>

<p>
이것은 /tmp/mysql.sock을 찾을 수 없다는 건데, database.yml에 보면 socket정보가 tmp/mysql.sock에 있기 때문이다. 실제 배포 서버는 socket이 저장되는 위치는 var/run/mysqld/mysql.sock이다. 그래서 이것을 바꿔줘야 하는데, database.yml에서 바꿔준 다음 반드시 github에 반영해야 한다. 왜냐면 capistrano는 github의 내용을 바탕으로 실행하기 때문이다.
</p>

<p>
그러면 socket 문제는 해결된다. 하지만, Access denied 문제가 발생된다.
</p>

<<<<<<< Updated upstream
<div id="orgbd0fc23" class="figure">
=======
<div id="org3f1d0e0" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/socketerror3.png" alt="socketerror3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 27: </span>socket</p>
</div>

<p>
db에 deploy계정이 있는지 확인해 본다. 또한 myapp이란 db가 있는지도 확인해 본다.
myapp이란 db에 deploy가 접근할수 있도록 권한을 부여해야 하기 때문이다.
없으면 만든다.
</p>
<blockquote>
<p>
sudo mysql -uroot -p
show databases;  //check if myapp db exists
 use mysql  
select User, Plugin, Host from user;  //check if deploy account exists
drop user 'deploy'@'localhost'; or drop user 'deploy'@'';
CREATE DATABASE IF NOT EXISTS myapp;
CREATE USER IF NOT EXISTS 'deploy'@'localhost' IDENTIFIED BY '$omeFancyPassword123';
CREATE USER IF NOT EXISTS 'deploy'@'%' IDENTIFIED BY '$omeFancyPassword123';
GRANT ALL PRIVILEGES ON myapp.* TO 'deploy'@'localhost';
GRANT ALL PRIVILEGES ON myapp.* TO 'deploy'@'%';
FLUSH PRIVILEGES;
</p>
</blockquote>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-orga2cc0e8" class="outline-3">
<h3 id="orga2cc0e8"><span class="section-number-3">1.14</span> cap production deploy 하자마자 sshkit error</h3>
=======
<div id="outline-container-org2cfd0dc" class="outline-3">
<h3 id="org2cfd0dc"><span class="section-number-3">1.14</span> cap production deploy 하자마자 sshkit error</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-14">
<p width="800px">
<img src="./img/capproduction.png" alt="capproduction.png" width="800px" />
이것은 aws pem키가 등록되지 않았다는 에러다. ssh-add ~/.ssh/company-ec2-keys.pem로 등록을 해야 한다. 
</p>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org5581119" class="outline-3">
<h3 id="org5581119"><span class="section-number-3">1.15</span> git permission error</h3>
=======
<div id="outline-container-orga21b4cd" class="outline-3">
<h3 id="orga21b4cd"><span class="section-number-3">1.15</span> git permission error</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-15">
<p width="800px">
<img src="./img/gitcheckerror.png" alt="gitcheckerror.png" width="800px" />
이것은 git ssh public key가 등록되지 않았다는 에러다. ssh-add ~/.ssh/id<sub>rsa로</sub> 등록을 해준다.
</p>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-orgfbd555b" class="outline-3">
<h3 id="orgfbd555b"><span class="section-number-3">1.16</span> phusion messager is not running</h3>
<div class="outline-text-3" id="text-1-16">

<div id="orgccbaddf" class="figure">
=======
<div id="outline-container-org0a1cb62" class="outline-3">
<h3 id="org0a1cb62"><span class="section-number-3">1.16</span> phusion messager is not running</h3>
<div class="outline-text-3" id="text-1-16">

<div id="org82e4b15" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/passengererror0.png" alt="passengererror0.png" width="800px" />
</p>
<p><span class="figure-number">Figure 28: </span>passenger error</p>
</div>

<p>
cap production deploy했을때 별다른 이상없이 통과되어 해당 web server로 접속하면, 위와 같은 에러가 발생되는데, 다시 cap production deploy 진행과정을 보니 다음과 같은 문제가 있었다.
</p>

<<<<<<< Updated upstream
<div id="org5b10588" class="figure">
=======
<div id="org98eb4dc" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/passengererror.png" alt="passengererror.png" width="800px" />
</p>
<p><span class="figure-number">Figure 29: </span>passenger error</p>
</div>


<<<<<<< Updated upstream
<div id="orga9ab51f" class="figure">
=======
<div id="org79c801a" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/passengererror3.png" alt="passengererror3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 30: </span>passenger error3</p>
</div>

<p>
그래서 /va/log/nginx/error.log로 가서 어떤 에러인지 확인해봤다.
</p>

<<<<<<< Updated upstream
<div id="org3b706af" class="figure">
=======
<div id="org136128f" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/passengerlog.png" alt="passengerlog.png" width="800px" />
</p>
<p><span class="figure-number">Figure 31: </span>passenger error</p>
</div>

<p>
근데 찝찝했던건, gorails에서 세팅을 제대로 하지 않았다는 것이다.
</p>

<<<<<<< Updated upstream
<div id="orgb38e3e0" class="figure">
=======
<div id="org5c9378c" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/gorails.png" alt="gorails.png" width="800px" />
</p>
<p><span class="figure-number">Figure 32: </span>gorails settings</p>
</div>

<p>
=&gt; 해결
배포서버로 접속해서 myapp/.rbenv-vars파일을 만들고 그냥 복사 붙여넣기 했다.
그게 좀 찝찝해서 database<sub>url도</sub> 변경하고, 어디서 보고 변경했는지는 잘 기억이 안나지만, 그것도 변경하고, RAILS<sub>MASTER</sub><sub>KEY도</sub> ohai가 아닌, myapp/config/master.key파일을 읽고 그 hash값을 붙여넣으니 문제가 해결되었다. 정확한 내용은 모르지만, 접속관련한 중요한 사항들을 secret.yml에 넣었다고 한다. 이 secret.yml이 버전이 올라가면서 변경된 것이다. 왜냐하면 rails에서 app을 만들자마자 git을 만들고, 배포를 위해서 github에 저장하는데, 접속정보는 중요한 파일이라서 github에 그대로 노출될 수 있기 때문이다. 그래서 예전에는 개발자가 gitignore로 github에 올라가지 않게 했는데, 보안 문제로 이번에 완전 바꾼거다. .authinfo.gpg를 만들고 저장하면, 저장한게 자동으로 암호화 되어, gpg key가 있어야 편집이 가능하듯이, 접속정보를 가지고 있는 credentials.yml.enc는 암호화되어 있고, master key가 있어야 접근할 수 있는 구조다. 그래서 배포를 하는 capistrano는 master key정보가 있어야 한다. 이것을 배포 서버의 myapp/.rbenv-vars파일의  mastser<sub>key변수에</sub> 넣어주면, capistrano는 credentials.yml.enc에 접근할수 있는 것이다. 그러면 위에 적힌 SECRET<sub>BASE는</sub> 어떻게 설정하는가?
</p>

<p>
우선 credentials.yml.enc를 편집하는 방법을 보자. local에서 myapp/config로 들어간 이후,
</p>
<blockquote>
<p>
EDITOR=vim rails credentials:edit
</p>
</blockquote>
<p>
이렇게 하면 credentials를 읽을 수 있다.
</p>
<p width="800px">
<img src="./img/credentials.png" alt="credentials.png" width="800px" />
그리고 secret<sub>key</sub><sub>base를</sub> 볼 수 있다. 이것을 복사해서 운영서버로 가서 myapp/.rbenv-vars에 붙여넣기 한다.
</p>

<p>
이렇게 하고 cap production deploy를 실행해보자.
</p>

<<<<<<< Updated upstream
<div id="orgace5994" class="figure">
=======
<div id="org35bb49a" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/final_deploy1.png" alt="final_deploy1.png" width="800px" />
</p>
<p><span class="figure-number">Figure 33: </span>result1</p>
</div>

<<<<<<< Updated upstream
<div id="orgb259875" class="figure">
<p><img src="./img/final_deploy2.png" alt="final_deploy2.png" width="800px" />
</p>
<p><span class="figure-number">Figure 34: </span>result2</p>
</div>

<div id="org5c353d7" class="figure">
<p><img src="./img/final_deploy3.png" alt="final_deploy3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 35: </span>result3</p>
</div>

<div id="org55b6ffa" class="figure">
<p><img src="./img/final_deploy4.png" alt="final_deploy4.png" width="800px" />
</p>
<p><span class="figure-number">Figure 36: </span>result4</p>
</div>

<div id="orge65f3f0" class="figure">
<p><img src="./img/final_deploy5.png" alt="final_deploy5.png" width="800px" />
</p>
<p><span class="figure-number">Figure 37: </span>result5</p>
</div>

=======
<div id="orgfed3c13" class="figure">
<p><img src="./img/final_deploy2.png" alt="final_deploy2.png" width="800px" />
</p>
<p><span class="figure-number">Figure 34: </span>result2</p>
</div>

<div id="orgace53a8" class="figure">
<p><img src="./img/final_deploy3.png" alt="final_deploy3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 35: </span>result3</p>
</div>

<div id="orga27d3db" class="figure">
<p><img src="./img/final_deploy4.png" alt="final_deploy4.png" width="800px" />
</p>
<p><span class="figure-number">Figure 36: </span>result4</p>
</div>

<div id="org8ea3db6" class="figure">
<p><img src="./img/final_deploy5.png" alt="final_deploy5.png" width="800px" />
</p>
<p><span class="figure-number">Figure 37: </span>result5</p>
</div>

>>>>>>> Stashed changes
<p>
이제 <a href="http://3.34.94.252">http://3.34.94.252</a> 에 접속해 보자.
다음과 같은 에러가 나온다.
</p>

<<<<<<< Updated upstream
<div id="org7246bf1" class="figure">
=======
<div id="org8a3c2b1" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/error.png" alt="error.png" width="800px" />
</p>
<p><span class="figure-number">Figure 38: </span>error</p>
</div>

<p>
에러의 원인을 찾아보기 위해서 운영서버의 /myapp/log/production.log를 보면 다음과 같은 에러가 있다.
</p>

<<<<<<< Updated upstream
<div id="org54632ad" class="figure">
=======
<div id="org73be0ca" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/routingerror.png" alt="routingerror.png" width="800px" />
</p>
<p><span class="figure-number">Figure 39: </span>routing error</p>
</div>

<p>
routing error다. 이것은 routes.rb에 처리하는 루틴이 없기 때문이다. 그런데 local에서는 routes.rb에 처리 루틴이 없는데도 welcome page가 보인다.  무슨 차이가 있는지 모르겠지만, capistrano를 통해서 운영서버에 배포하고 연결을 시도 했을 때는 welcome page가 보이지 않는다.  그래서 간단히 hello world를 출력하는 코드를 만들어봤다.
</p>
</div>

<<<<<<< Updated upstream
<div id="outline-container-org031f646" class="outline-4">
<h4 id="org031f646">routes.rb</h4>
<div class="outline-text-4" id="text-org031f646">
=======
<div id="outline-container-orgb3c1211" class="outline-4">
<h4 id="orgb3c1211">routes.rb</h4>
<div class="outline-text-4" id="text-orgb3c1211">
>>>>>>> Stashed changes
<blockquote>
<p>
get "/articles", to: "articles#index"
</p>
</blockquote>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-org21d0e53" class="outline-4">
<h4 id="org21d0e53">rails g controller</h4>
<div class="outline-text-4" id="text-org21d0e53">
=======
<div id="outline-container-org96b5daa" class="outline-4">
<h4 id="org96b5daa">rails g controller</h4>
<div class="outline-text-4" id="text-org96b5daa">
>>>>>>> Stashed changes
<blockquote>
<p>
rails g controller Articles index &#x2013;skip-routes
</p>
</blockquote>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-org69d3aef" class="outline-4">
<h4 id="org69d3aef">index.html.erb</h4>
<div class="outline-text-4" id="text-org69d3aef">
=======
<div id="outline-container-orgbdb37bb" class="outline-4">
<h4 id="orgbdb37bb">index.html.erb</h4>
<div class="outline-text-4" id="text-orgbdb37bb">
>>>>>>> Stashed changes
<blockquote>
<p>
&lt;h1&gt; hello hoyoul&lt;/h1&gt;
</p>
</blockquote>

<p>
위와 같이 하고 github에 저장한후 cap production deploy를 사용해서 운영서버에 배포한후 url로 접근하면 해당 페이지를 볼 수 있다.
</p>

<<<<<<< Updated upstream
<div id="orgfadf6f5" class="figure">
=======
<div id="org18112dd" class="figure">
>>>>>>> Stashed changes
<p><img src="./img/hello .png" alt="hello .png" width="800px" />
</p>
<p><span class="figure-number">Figure 40: </span>hello</p>
</div>
</div>
</div>
</div>

<<<<<<< Updated upstream
<div id="outline-container-orgff30832" class="outline-3">
<h3 id="orgff30832"><span class="section-number-3">1.17</span> nginx 설정과  log위치 [ubuntu]</h3>
=======
<div id="outline-container-org92cea68" class="outline-3">
<h3 id="org92cea68"><span class="section-number-3">1.17</span> nginx 설정과  log위치 [ubuntu]</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-17">
<blockquote>
<p>
/etc/nginx/nginx.conf [설정]
 /var/log/nginx/error.log [log]
tails -f /var/log/nginx/error.log
</p>
</blockquote>
<p>
nginx는 일반적인 설정을 한뒤 가상 호스트를 위한 설정 파일을 실행한다.
</p>
<blockquote>
<p>
/etc/nginx/sites-enabled/myapp
</p>
</blockquote>
<p>
을 실행한다.
</p>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-orgafb5b40" class="outline-3">
<h3 id="orgafb5b40"><span class="section-number-3">1.18</span> passenger log file</h3>
=======
<div id="outline-container-orgdc6be88" class="outline-3">
<h3 id="orgdc6be88"><span class="section-number-3">1.18</span> passenger log file</h3>
>>>>>>> Stashed changes
<div class="outline-text-3" id="text-1-18">
<p>
passenger가 nginx에 통합되어 설치되어 있어서 동일한 log를 사용한다고 보면 된다.
</p>
</div>
</div>
</div>
<<<<<<< Updated upstream
<div id="outline-container-org3dc0988" class="outline-2">
<h2 id="org3dc0988"><span class="section-number-2">2</span> rails 개발 참조 사이트</h2>
<div class="outline-text-2" id="text-2">
=======
<div id="outline-container-orgc2b18ab" class="outline-2">
<h2 id="orgc2b18ab"><span class="section-number-2">2</span> AWS 계정 설정(root and IAM)</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org17ab347" class="outline-3">
<h3 id="org17ab347"><span class="section-number-3">2.1</span> root계정 처리</h3>
<div class="outline-text-3" id="text-2-1">
<p>
AWS을 사용하면 root계정으로 login하면 안된다. IAM 사용자 계정을 사용해야 한다. root계정은 보안문제로 MFA(Multi Factor Authentication)을 꼭 설정해야 한다.
</p>

<div id="orgac618aa" class="figure">
<p><img src="./img/root1.png" alt="root1.png" width="800px" />
</p>
<p><span class="figure-number">Figure 41: </span>ROOT</p>
</div>


<div id="org1f5b807" class="figure">
<p><img src="./img/root2.png" alt="root2.png" width="800px" />
</p>
<p><span class="figure-number">Figure 42: </span>ROOT2</p>
</div>


<div id="orgb722da5" class="figure">
<p><img src="./img/root3.png" alt="root3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 43: </span>root3</p>
</div>


<div id="org23c83db" class="figure">
<p><img src="./img/root4.png" alt="root4.png" width="800px" />
</p>
<p><span class="figure-number">Figure 44: </span>root4</p>
</div>

<p>
설치할 MFA기기는 가상기기이고, 내 경우, google authenticator를 설치했다.
중간에 보면 <b>show QR code</b> 가 있다. 이것을 누르면 QR code가 보인다. 그리고 code1과 code2를 기입한다.
</p>

<p width="800px">
<img src="./img/root5.png" alt="root5.png" width="800px" />
이제 root에 대한 MFA처리가 끝났다.
</p>

<p width="800px">
<img src="./img/root6.png" alt="root6.png" width="800px" />
앞으로 root login은 mfa로 묻는다.
이제 IAM계정을 만든다.
</p>
</div>
</div>

<div id="outline-container-orgc52775e" class="outline-3">
<h3 id="orgc52775e"><span class="section-number-3">2.2</span> IAM 계정 처리(group and user)</h3>
<div class="outline-text-3" id="text-2-2">
<p>
보통은 group을 만들고 group에 permission을 준 다음에 user를 넣어주지만, 작은 조직의 경우, user만을 생성해서 관리해도 된다.
</p>


<div id="org979cccb" class="figure">
<p><img src="./img/user1.png" alt="user1.png" width="800px" />
</p>
<p><span class="figure-number">Figure 45: </span>user 생성</p>
</div>


<div id="org88cc93f" class="figure">
<p><img src="./img/user2.png" alt="user2.png" width="800px" />
</p>
<p><span class="figure-number">Figure 46: </span>user 생성</p>
</div>

<p>
위와같이 user id를 만들고, pw를 설정한다. pw를 임시로 설정하고, 실제 login시 사용자가 설정하도록 한다.
</p>
<p width="800px">
<img src="./img/user3.png" alt="user3.png" width="800px" />
정책을 선택한다.
</p>


<div id="org126ce01" class="figure">
<p><img src="./img/user4.png" alt="user4.png" width="800px" />
</p>
<p><span class="figure-number">Figure 47: </span>user 생성</p>
</div>

<p width="800px">
<img src="./img/user5.png" alt="user5.png" width="800px" />
tag 생성은 넘어간다.
</p>


<div id="orgec37510" class="figure">
<p><img src="./img/user6.png" alt="user6.png" width="800px" />
</p>
<p><span class="figure-number">Figure 48: </span>user 생성</p>
</div>


<div id="orgd53fe3b" class="figure">
<p><img src="./img/user7.png" alt="user7.png" width="800px" />
</p>
<p><span class="figure-number">Figure 49: </span>user 생성</p>
</div>

<p>
이제 user가 만들어졌고, login할 수 있는 account ID 가 만들어져서 접속할 수 있게 되었다.
위에 account id를 로긴할 때 입력하면 된다.
참고로 account ID는 모든 IAM 계정들은 동일한 값을 갖는다.
</p>


<div id="org9720b9e" class="figure">
<p><img src="./img/user8.png" alt="user8.png" width="800px" />
</p>
<p><span class="figure-number">Figure 50: </span>user 생성</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org80263ac" class="outline-2">
<h2 id="org80263ac"><span class="section-number-2">3</span> AWS 고정 IP 설정</h2>
<div class="outline-text-2" id="text-3">

<div id="org48504fc" class="figure">
<p><img src="./img/eip.png" alt="eip.png" width="800px" />
</p>
<p><span class="figure-number">Figure 51: </span>elastic IP</p>
</div>

<p>
AWS에서 ec2를 만들면, public ip이지만, 이것은 고정된 ip가 아니다. DHCP처럼 ec2는 재시작할 때 마다, ip를 갱신하는 과정을 거친다. 이를 고정 IP로 하기 위해선, elastic ip를 사용한다.  설정방법은 그냥 default로 진행하는건데, 이렇게 할때, option은 어떻게 설정해야 하는가? 하는 문젠데 설명이 나와 있진 않다.
</p>

<div id="org9fc150b" class="figure">
<p><img src="./img/eip2.png" alt="eip2.png" width="800px" />
</p>
<p><span class="figure-number">Figure 52: </span>eip2</p>
</div>

<p>
위와 같이 해주면 elastic ip가 만들어졌다. 만들어진 elastic ip를 ec2와 연결하는 과정이 필요하다.
다시 ec2 dashboard로 접속한다. 거기서 elastic ip를 선택한다.
</p>


<div id="org5ef6206" class="figure">
<p><img src="./img/eip3.png" alt="eip3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 53: </span>eip3</p>
</div>


<div id="orge4c4854" class="figure">
<p><img src="./img/eip4.png" alt="eip4.png" width="800px" />
</p>
<p><span class="figure-number">Figure 54: </span>eip4</p>
</div>

<p>
여기까지 하면 elastic ip를 만들고 ec2와 연동하는 것까지 완료가 되었다. 이제 확인해 보자.
ec2 dashboard로 접근한다. 그 다음 ec2 instance의 정보를 보자.
</p>


<div id="orge5ff0cb" class="figure">
<p><img src="./img/eip5.png" alt="eip5.png" width="800px" />
</p>
<p><span class="figure-number">Figure 55: </span>eip5</p>
</div>
</div>
</div>

<div id="outline-container-org627c7fe" class="outline-2">
<h2 id="org627c7fe"><span class="section-number-2">4</span> AWS DNS 주소 할당과정</h2>
<div class="outline-text-2" id="text-4">

<div id="org294d4ed" class="figure">
<p><img src="./img/Route_53_1.png" alt="Route_53_1.png" width="800px" />
</p>
<p><span class="figure-number">Figure 56: </span>route53</p>
</div>
<p width="800px">
<img src="./img/route_53_1-2.png" alt="route_53_1-2.png" width="800px" />
위에서 원하는 domain주소를 구입할 수 있다. 가격은 그렇게 비싸지 않은듯 하다.
domain주소를 구입한 후에 등록을 한다.
</p>


<div id="org620becc" class="figure">
<p><img src="./img/route_53_1-3.png" alt="route_53_1-3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 57: </span>route53</p>
</div>


<div id="orge5b0255" class="figure">
<p><img src="./img/route_53_1-4.png" alt="route_53_1-4.png" width="800px" />
</p>
<p><span class="figure-number">Figure 58: </span>route53</p>
</div>


<div id="org7d31a6f" class="figure">
<p><img src="./img/route_53_1-5.png" alt="route_53_1-5.png" width="800px" />
</p>
<p><span class="figure-number">Figure 59: </span>route53</p>
</div>
</div>
</div>

<div id="outline-container-org00ab1fd" class="outline-2">
<h2 id="org00ab1fd"><span class="section-number-2">5</span> AWS domain주소와 EC2연동</h2>
<div class="outline-text-2" id="text-5">

<div id="org555d7fb" class="figure">
<p><img src="./img/route_53_2.png" alt="route_53_2.png" width="800px" />
</p>
<p><span class="figure-number">Figure 60: </span>route53</p>
</div>


<div id="org2cb55b0" class="figure">
<p><img src="./img/route_53_2-1.png" alt="route_53_2-1.png" width="800px" />
</p>
<p><span class="figure-number">Figure 61: </span>route53</p>
</div>


<div id="org1f3dba3" class="figure">
<p><img src="./img/route_53_3.png" alt="route_53_3.png" width="800px" />
</p>
<p><span class="figure-number">Figure 62: </span>route 53</p>
</div>


<div id="orge3002db" class="figure">
<p><img src="./img/route_53_4.png" alt="route_53_4.png" width="800px" />
</p>
<p><span class="figure-number">Figure 63: </span>route 53</p>
</div>
</div>
</div>


<div id="outline-container-orgc3c33cf" class="outline-2">
<h2 id="orgc3c33cf"><span class="section-number-2">6</span> rails 개발 참조 사이트</h2>
<div class="outline-text-2" id="text-6">
>>>>>>> Stashed changes
<ul class="org-ul">
<li><a href="https://gorails.com">gorails</a> : 설치, deploy 관련 sites</li>
<li><a href="https://rubyonrails.org">rubyonrails</a>: ruby on rails 개발 sites</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Hoyoul Park</p>
<<<<<<< Updated upstream
<p class="date">Created: 2021-07-21 Wed 09:35</p>
=======
<p class="date">Created: 2021-07-25 Sun 18:48</p>
>>>>>>> Stashed changes
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
